function showHide(type){"create"==type?(Ink.i("createForm").reset(),Css.hide(Ink.i("updateForm")),Css.hide(Ink.i("uploadForm")),Css.hide(Ink.i("filterForm")),Css.hide(Ink.i("summaryBox")),Css.toggle(Ink.i("createForm"))):"summary"==type?(Css.hide(Ink.i("updateForm")),Css.hide(Ink.i("uploadForm")),Css.hide(Ink.i("createForm")),Css.hide(Ink.i("filterForm")),Css.toggle(Ink.i("summaryBox"))):(Css.hide(Ink.i("updateForm")),Css.hide(Ink.i("uploadForm")),Css.hide(Ink.i("createForm")),Css.hide(Ink.i("summaryBox")),Css.toggle(Ink.i("filterForm")))}function showUpdateForm(id){Css.show(Ink.i("updateForm")),Css.hide(Ink.i("uploadForm")),Css.hide(Ink.i("createForm")),Css.hide(Ink.i("filterForm")),Css.hide(Ink.i("summaryBox")),new Ink.Net.Ajax("get/",{method:"GET",contentType:"application/json",parameters:{id:id},sanitizeJSON:!0,onSuccess:function(response){if(200===response.status){var record=response.responseJSON;record.KO?showMessage("Error extracting record !"):("undefined"!=typeof record.status&&(record.status=record.status.toString()),"undefined"!=typeof record.language_skills&&(record.language_skills=record.language_skills.toString()),Ink.Dom.FormSerialize.fillIn("updateForm",record))}}})}function showUploadForm(){Css.show(Ink.i("uploadForm")),Css.hide(Ink.i("createForm")),Css.hide(Ink.i("filterForm")),Css.hide(Ink.i("summaryBox")),document.getElementById("uploadIFrame").src="form/?id="+Ink.i("u__id").value}function downloadFile(){document.getElementById("downloadIFrame").src="download/?id="+Ink.i("u__id").value}function loadSummary(){var params=getFilterParams();"none"===Ink.i("summaryBox").style.display&&new Ink.Net.Ajax("summary?",{method:"GET",contentType:"application/json",parameters:params,sanitizeJSON:!0,onSuccess:function(response){200===response.status?Ink.i("summaryBox").innerHTML=new EJS({url:"public/ejs/summary.html"}).render(response.responseJSON):showMessage("Error loading summary data !")}}),showHide("summary")}function showMessage(msg,callback,int){var int=int||5e3;Ink.i("msgBox").innerHTML=new EJS({url:"public/ejs/message.html"}).render({msg:msg}),setTimeout(function(){"function"==typeof callback&&callback(),Ink.i("msgBox").innerHTML=""},int)}function userCreate(){return Ink.UI.FormValidator_1.validate(Ink.i("createForm"))?(new Ink.Net.Ajax("create/",{method:"GET",contentType:"application/json",parameters:Ink.Dom.FormSerialize.serialize("createForm"),sanitizeJSON:!0,onSuccess:function(response){if(200===response.status){var record=response.responseJSON;record.KO?showMessage("Error Creating the Record"):filterTable()}}}),void 0):!1}function userUpdate(){return Ink.UI.FormValidator_1.validate(Ink.i("updateForm"))?(new Ink.Net.Ajax("update/",{method:"GET",contentType:"application/json",parameters:Ink.Dom.FormSerialize.serialize("updateForm"),sanitizeJSON:!0,onSuccess:function(response){if(200===response.status){var record=response.responseJSON;record.KO?showMessage("Error Updating the Record"):filterTable()}}}),void 0):!1}function userDelete(id){var confirmed=confirm("Do you really want to delete the record?");return confirmed?(new Ink.Net.Ajax("delete/",{method:"GET",contentType:"application/json",parameters:{id:id},sanitizeJSON:!0,onSuccess:function(response){if(200===response.status){var record=response.responseJSON;record.KO?showMessage("Error Deleting the Record !"):filterTable()}}}),void 0):!1}function getFilterParams(){var filterParams=Ink.Dom.FormSerialize.serialize("filterForm"),params="";for(var paramName in filterParams)"undefined"!=typeof filterParams[paramName]&&filterParams[paramName]&&(params+="&"+paramName+"="+filterParams[paramName]);return params}function filterTable2(){var params=getFilterParams();table._getData("/list?"+params)}function filterTable(){var params=getFilterParams();table&&(table._pagination._element.innerHTML=""),initTable(params)}function initTable(params){var tdOptions={id:{"class":"hide-small"},name:"",phone:{"class":"hide-small"},skills:{"class":"hide-small"},minutes:{"class":"hide-small"},status:{"class":"hide-small hide-medium"},date:{"class":"hide-small hide-medium"},action:{"class":""}},endpoint="/list?"+(params||"");table=new Ink.UI.Table(".ink-table",{endpoint:endpoint,tdOptions:tdOptions})}var Css=Ink.Dom.Css,table="";window.onload=function(){initTable()};